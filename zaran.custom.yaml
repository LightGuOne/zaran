patch:
  style/+: 
  schema/dependencies/+:
    - wanxiang_reverse               # åæŸ¥
    - chaifen
    # - kagiroi


  engine/processors/@before 2: lua_processor@*kagiroi/kagiroi_kana_speller  # éœ€è¦åœ¨key_binderåé¢
  engine/segmentors/@before 2: lua_segmentor@*mylua.paired_punct    #æˆå¯¹ç¬¦å·
  engine/segmentors/@before 3: affix_segmentor@kagiroi                      # éœ€è¦åœ¨abc_segmentorå‰é¢
  engine/segmentors/@before 4: affix_segmentor@wanxiang_reverse
  engine/translators/+:
    - reverse_lookup_translator@wanxiang_reverse   # åæŸ¥
    - lua_translator@*mylua.mixed_V
    - lua_translator@*unicode             # Unicode
    - lua_translator@*kagiroi/kagiroi_translator
  # engine/filters/@before 1: lua_filter@*kagiroi/kagiroi_aux_filter  # è¾…ç­›
  # engine/filters/@before 7: lua_filter@*mylua/info_comment          # è°ƒè¯•ç”¨


  key_binder/bindings/+:
    # - { match: "^V.+", accept: "KP_Enter", send_sequence: '{space}' }           # ç©ºæ ¼ä¸Šå±
    - { match: "^[a-z]{2,3}", accept: "Shift+Shift_L", send_sequence: 3 }           # æœ‰å€™é€‰æ—¶ä¸‰é€‰
    # - { when: composing, accept: "space", send_sequence: '{Return}l/' } 
    - { when: has_menu, accept: Control+Shift+G, toggle: inflexible }        # é­”ç„¶å›ºè¯å¼€å…³
    - { when: composing, accept: "Control+g", toggle: extended_charset }            # å¤§å°å­—ç¬¦é›†
    - { when: has_menu, accept: "Control+s", toggle: tone_display }                 # æ‹¼éŸ³æ˜¾ç¤º
    - { when: has_menu, accept: "Control+b", toggle: fuzhu_hint }                 # æ‹¼éŸ³æ˜¾ç¤º
    - { when: has_menu, accept: "Control+Shift+B", toggle: chaifen_switch }               # è¡¥å…¨ä¿¡æ¯å¼€å…³


  recognizer/patterns/+:
    wanxiang_reverse: "^olf[A-Za-z]*$"  # åæŸ¥å…¥å£
    calculator: "^V.*$"                 # è®¡ç®—å™¨åŠŸèƒ½å¼•å¯¼
    unicode: "^U[a-f0-9]+"              # Unicode
    kagiroi: '^(?:ok|\xE3\x81[\x81-\xBF]|\xE3\x82[\x80-\x9F]|\xE3\x83\xBC)(?:\xE3\x81[\x81-\xBF]|\xE3\x82[\x80-\x9F]|\xE3\x83\xBC|[a-z\-;])*$'


  wanxiang_reverse:
    tag: wanxiang_reverse
    dictionary: wanxiang_reverse
    db_class: stabledb
    enable_completion: true  # å¯ç”¨å€™é€‰è¯è¡¥å…¨
    prefix: "olf"  # åæŸ¥å‰ç¼€ï¼ˆåæŸ¥æ—¶å‰ç¼€ä¼šæ¶ˆå¤±å½±å“æ‰“è‹±æ–‡æ‰€ä»¥è®¾å®šä¸ºä¸¤ä¸ªå­—æ¯ï¼Œæˆ–å¯æ”¹æˆä¸€ä¸ªéå­—æ¯ç¬¦å·ï¼‰
    enable_user_dict: false  # ç¦ç”¨ç”¨æˆ·è¯å…¸ï¼Œæ˜¯å¦å¼€å¯è‡ªåŠ¨è°ƒé¢‘
    tips: ã€”åæŸ¥ã€•
    preedit_format:
      - xform/^o(lf|bh|cj|vy|hm)//


  kagiroi:
    prefix: ok
    tips: ã€”ã‚«ã‚®ãƒ­ã‚¤ã€•
    tag: kagiroi
    layout: romaji
    speller:
      __include: kagiroi:/alphabet/3_dan
    translator:
      input_mapping:
        - xform/^(.*)n$/$1ã‚“$/


  simple_comment:                     # è¶…çº§æ³¨é‡Šæ¨¡å—ï¼Œå­é¡¹é…ç½® true å¼€å¯ï¼Œfalse å…³é—­
    candidate_length: 1               # å€™é€‰è¯è¾…åŠ©ç æé†’çš„ç”Ÿæ•ˆé•¿åº¦ï¼Œ0ä¸ºå…³é—­  ä½†åŒæ—¶æ¸…ç©ºå…¶å®ƒï¼Œåº”å½“ä½¿ç”¨ä¸Šé¢å¼€å…³æ¥å¤„ç†
    corrector_type: "comment"         # æ¢ä¸€ç§æ˜¾ç¤ºç±»å‹ï¼Œæ¯”å¦‚"({comment})" 
    # fuzhu_type: fuzhu                 # åˆ†åŒ…è¿™æ˜¯ä¸€ä¸ªå›ºå®šæ­é…ï¼Œå£°è°ƒå¯ä»¥ä½¿ç”¨å¼€å…³æ§åˆ¶ï¼Œè¿™é‡Œæ— éœ€ä¿®æ”¹
    # chaifen: "chaifen"                # éšæ„æ›´æ¢å·¦å³æ‹¬å·ï¼Œæ¯”å¦‚"ã€”chaifenã€•" ä¸åŠ æ‹¬å·ä¸ºæ— æ‹¬å·ï¼Œchaifenå ä½ä¸èƒ½åŠ¨


  moran:
    quick_code_indicator: "ğŸ—²"        # ç®€ç æ ‡è¯†ç¬¦
    # quick_code_indicator: "âš¡"        # ç®€ç æ ‡è¯†ç¬¦
    enable_word_filter: false         # è¯è¾…åŠŸèƒ½
    word_filter_match_indicator: {}   # è¯è¾…å‘½ä¸­æç¤ºè¯ 
    inject_fixed_chars: false          # å¯ç”¨å•å­—æ³¨å…¥ æ˜¯å¦è¾“å‡ºç®€ç è¡¨å•å­—ï¼ˆå¦‚ jwrg æ¬¡é€‰ã€Œä½³ã€ï¼‰
    inject_fixed_words: true          # å¯ç”¨é•¿è¯æ³¨å…¥ æ˜¯å¦è¾“å‡ºç®€ç è¡¨è¯è¯­ï¼ˆå¦‚ lmsd æ¬¡é€‰ã€Œä¸¤é¢ä¸‰åˆ€ã€ï¼‰
    # ã€Œå‡ºç°¡è®“å…¨ã€ç›¸é—œè¨­ç½®
    ijrq:
      enable: true                    # å‡ºç®€è®©å…¨å¼€å…³
      show_hint: true                 # æ˜¾ç¤ºç®€ç æç¤º
      enable_word: true               # è©èªç´šã€Œè®“å…¨ã€ï¼Œå°äºŒã€ä¸‰ã€å››å­—è©æœ‰æ•ˆ
      enable_word_delay: 200          # å»¶é²è§¸ç™¼è©èªç´šè®“å…¨æ•ˆæœ,ä¸€èˆ¬çˆ² 200 *æ¯«ç§’* ä¸Šä¸‹ï¼ˆåƒ… librime >= 1.14 å¯ç”¨ï¼‰
      enable_word_defer: 2            # å»¶é²å€™é¸å€‹æ•¸ã€‚å¿…é ˆæ˜¯å¤§æ–¼ç­‰æ–¼ 1 çš„æ•´æ•¸æ‰æœ‰æ•ˆæœã€‚
      suffix: "/"                     # è®©å…¨åç¼€
    # moran_hint_filter çš„ç›¸å…³è®¾ç½®
    enable_aux_hint: false            # è¾…åŠ©ç æç¤ºï¼ˆæ— ç”¨ï¼‰
    enable_quick_code_hint: true      # ç°¡å¿«ç¢¼æç¤ºï¼ˆåŒ…æ‹¬å­—å’Œè©ï¼‰
    quick_code_hint_indicator: ""     # ç®€å¿«ç æç¤ºç¬¦å·ï¼ˆé»˜èªå€¼ null ä½¿ç”¨quick_code_indicatoræç¤ºï¼‰
    quick_code_hint_skip_chars: true  # å–æ¶ˆå–®å­—çš„ç°¡å¿«ç¢¼æç¤º
    # (ä»…*åŠ¨è¯æ¨¡å¼*) è¾“å‡ºä¼˜å…ˆçº§
    inject_prioritize: "word"         # char: ä¼˜å…ˆå•å­—, word: ä¼˜å…ˆè¯ç»„ï¼Œå…¶ä»–å€¼æŒ‰ç è¡¨é¡ºåº
    # ã€ŒPINã€ç›¸é—œè¨­ç½®
    pin:
      enable: true                    # å¯ç”¨ç½®é¡¶åŠŸèƒ½
      indicator: "ğŸ“Œ"                 # ç½®é¡¶æ ‡è¯†
      panacea:
        infix: "//"                   # é€ è¯åˆ†éš”ç¬¦
        prompt: "ã€”åŠ è¯ã€•"            # é€ è¯æç¤º
        freestyle: false              # å¯ç”¨è‡ªç”±æ¨¡å¼
    # ã€Œé€šç”¨ã€å­—ç¬¦é›†è¨­ç½® ï¼ˆä¸å½±éŸ¿ã€Œå¢å»£ã€ï¼šå¢å»£ä»é¡¯ç¤º*æ‰€æœ‰*å­—ç¬¦ï¼‰
    charset: simp             # both: å…è¨±ç¹é«”å’Œç°¡é«”åŒæ™‚é¡¯ç¤º | simp: åªé¡¯ç¤ºç°¡åŒ–å­— | trad: åªé¡¯ç¤ºç¹é«”å­—
    #ç•¥ç   moran_processor.lua â†’ shorthands ä¿®æ”¹
    shorthands: false   


  paired_punct:
    pattern: '^([aswdf])`'
    defer:
      - "ï¼Œ"
      - "ã€"
      - "|"
    dict:
      a: ['ã€Š','ã€‹']
      w: ['ï¼ˆ','ï¼‰']
      s: ['ã€Œ','ã€']
      d: ['ã€','ã€']
      f: ['"','"']


  # æ‰‹æœºä¸“ç”¨
  # switches:
  #   - options: [ comment_off, fuzhu_hint, tone_hint ]
  #     states: [ æ³¨é‡Šå…³, è¾…åŠ©å¼€, è¯»éŸ³å¼€ ]
  #   - name: ascii_punct  # ä¸­è‹±æ ‡ç‚¹
  #     states: [ Â¥, $ ]
  #     reset: 1
  #   - name: full_shape
  #     states: [ åŠè§’ğŸŒ—, å…¨è§’ğŸŒ• ]
  #   - name: chaifen_switch
  #     states: [æ‹†å­—âŒ, æ‹†å­—âœ”] 
  #   - name: traditionalization
  #     states: [ ç®€ä½“, ç¹é«” ]
  #   - name: extended_charset
  #     states: [ é€šç”¨, å¢å»£ ]
  #   - name: inflexible
  #     states: [ å‹•è©, å›ºè© ]